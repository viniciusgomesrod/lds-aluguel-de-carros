<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="Dashboard do usuário AutoRent" />
    <meta name="author" content="AutoRent" />
    <title>AutoRent - Dashboard</title>

    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #e74c3c;
            --light: #ecf0f1;
        }

        body {
            font-family: 'Roboto Slab', sans-serif;
            color: var(--primary);
        }

        .navbar-dark {
            background-color: var(--primary) !important;
        }

        .dashboard-masthead {
            background-color: var(--light);
            padding: 10rem 0 5rem;
            text-align: center;
        }

        .dashboard-masthead .heading {
            font-family: 'Montserrat', sans-serif;
            font-size: 3rem;
            font-weight: 700;
            color: var(--primary);
        }

        .section-heading {
            color: var(--primary);
        }

        .card {
            transition: transform 0.3s, box-shadow 0.3s;
            border-radius: 10px;
            border: none;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .btn-primary {
            background-color: var(--secondary);
            border-color: var(--secondary);
        }

        .btn-primary:hover {
            background-color: #c0392b;
            border-color: #c0392b;
        }

        .page-section {
            padding: 6rem 0;
        }

        .card-img-top {
            height: 200px;
            object-fit: cover;
        }

        #profile-section .form-control {
            border-radius: 5px;
        }
    </style>
</head>
<body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
        <div class="container">
            <a class="navbar-brand" href="#page-top">
                <h3>AutoRent</h3>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                Menu
                <i class="fas fa-bars ms-1"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav text-uppercase ms-auto py-4 py-lg-0">
                    <li class="nav-item"><a class="nav-link" href="#reservations">Minhas Reservas</a></li>
                    <li class="nav-item"><a class="nav-link" href="#profile">Gerenciar Perfil</a></li>
                    <li class="nav-item"><a class="nav-link" href="#logout" onclick="alert('Funcionalidade de sair não implementada.')">Sair</a></li>
                </ul>
            </div>
        </div>
    </nav>
    
    <!-- Dashboard Masthead-->
    <header class="dashboard-masthead">
        <div class="container">
            <div class="heading text-uppercase">Bem-vindo(a) ao seu Painel, [Nome do Usuário]!</div>
            <p class="text-muted mt-3">Aqui você pode ver e gerenciar suas reservas.</p>
        </div>
    </header>

    <!-- Minhas Reservas Section -->
    <section class="page-section" id="reservations">
        <div class="container">
            <div class="text-center">
                <h2 class="section-heading text-uppercase">Minhas Reservas</h2>
                <h3 class="section-subheading text-muted">Acompanhe suas reservas ativas e passadas.</h3>
            </div>
            <!-- Botão para Criar Novo Pedido -->
            <div class="text-center mb-5">
                <button type="button" class="btn btn-primary btn-lg" data-bs-toggle="modal" data-bs-target="#newReservationModal">
                    <i class="fas fa-car me-2"></i> Criar Nova Reserva
                </button>
            </div>
            <div class="row">
                <!-- Card de Reserva de Exemplo 1 -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card">
                        <img src="https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1770&q=80" class="card-img-top" alt="Carro Econômico">
                        <div class="card-body text-center">
                            <h5 class="card-title">Hyundai HB20</h5>
                            <p class="text-muted">Reserva #12345</p>
                            <ul class="list-unstyled text-start small">
                                <li><strong>Status:</strong> <span class="badge bg-success">Aprovada</span></li>
                                <li><strong>Retirada:</strong> 25/09/2025</li>
                                <li><strong>Devolução:</strong> 30/09/2025</li>
                                <li><strong>Local:</strong> São Paulo</li>
                            </ul>
                            <button type="button" class="btn btn-primary mt-3" data-bs-toggle="modal" data-bs-target="#viewDetailsModal" data-reservation-id="12345" data-car-name="Hyundai HB20">Ver Detalhes</button>
                        </div>
                    </div>
                </div>
                <!-- Card de Reserva de Exemplo 2 -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card">
                        <img src="https://images.unsplash.com/photo-1542362567-b07e54358753?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1770&q=80" class="card-img-top" alt="Carro SUV">
                        <div class="card-body text-center">
                            <h5 class="card-title">Jeep Renegade</h5>
                            <p class="text-muted">Reserva #67890</p>
                            <ul class="list-unstyled text-start small">
                                <li><strong>Status:</strong> <span class="badge bg-warning text-dark">Aguardando Aprovação</span></li>
                                <li><strong>Retirada:</strong> 10/10/2025</li>
                                <li><strong>Devolução:</strong> 15/10/2025</li>
                                <li><strong>Local:</strong> Rio de Janeiro</li>
                            </ul>
                            <button type="button" class="btn btn-primary mt-3" data-bs-toggle="modal" data-bs-target="#viewDetailsModal" data-reservation-id="67890" data-car-name="Jeep Renegade">Ver Detalhes</button>
                        </div>
                    </div>
                </div>
                <!-- Placeholder para Histórico/Mais Reservas -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card text-center d-flex align-items-center justify-content-center p-4 h-100">
                         <i class="fas fa-history fa-3x text-muted mb-3"></i>
                        <h5 class="card-title text-muted">Ver Histórico</h5>
                        <p class="text-muted">Clique para ver reservas concluídas e canceladas.</p>
                        <a href="#!" class="btn btn-dark mt-2">Acessar</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gerenciar Perfil Section -->
    <section class="page-section bg-light" id="profile">
        <div class="container">
            <div class="text-center">
                <h2 class="section-heading text-uppercase">Gerenciar Perfil</h2>
                <h3 class="section-subheading text-muted">Atualize suas informações pessoais.</h3>
            </div>
            <form id="profileForm" class="mx-auto" style="max-width: 600px;">
                <div class="form-group mb-3">
                    <label for="profile-name" class="form-label">Nome Completo</label>
                    <input type="text" class="form-control" id="profile-name" placeholder="Seu Nome" value="[Nome do Usuário]">
                </div>
                <div class="form-group mb-3">
                    <label for="profile-email" class="form-label">Email</label>
                    <input type="email" class="form-control" id="profile-email" placeholder="Seu Email" value="[email@exemplo.com]">
                </div>
                <div class="form-group mb-4">
                    <label for="profile-phone" class="form-label">Telefone</label>
                    <input type="tel" class="form-control" id="profile-phone" placeholder="Seu Telefone" value="(99) 99999-9999">
                </div>
                <div class="text-center">
                    <button type="submit" class="btn btn-primary btn-xl text-uppercase">Salvar Alterações</button>
                </div>
            </form>
        </div>
    </section>

    <!-- Footer-->
    <footer class="footer py-4">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-4 text-lg-start">Copyright &copy; AutoRent 2023</div>
                <div class="col-lg-4 my-3 my-lg-0">
                    <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                </div>
                <div class="col-lg-4 text-lg-end">
                    <a class="link-dark text-decoration-none me-3" href="#!">Política de Privacidade</a>
                    <a class="link-dark text-decoration-none" href="#!">Termos de Uso</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- MODAL: Tela de Criação de Pedido de Aluguel -->
    <div class="modal fade" id="newReservationModal" tabindex="-1" aria-labelledby="newReservationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="newReservationModalLabel">Criar Novo Pedido de Aluguel</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <h4>1. Selecionar Automóvel</h4>
                        <div class="mb-3">
                            <label for="carSelect" class="form-label">Carro Disponível</label>
                            <select class="form-select" id="carSelect" required>
                                <option selected disabled value="">Selecione um carro...</option>
                                <option>Hyundai HB20 - R$ 90/dia</option>
                                <option>Jeep Renegade - R$ 150/dia</option>
                                <option>Ford Fusion - R$ 200/dia</option>
                            </select>
                        </div>

                        <h4>2. Período e Local</h4>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="pickupDate" class="form-label">Data de Retirada</label>
                                <input type="date" class="form-control" id="pickupDate" required>
                            </div>
                            <div class="col-md-6">
                                <label for="returnDate" class="form-label">Data de Devolução</label>
                                <input type="date" class="form-control" id="returnDate" required>
                            </div>
                        </div>
                         <div class="mb-4">
                            <label for="locationSelect" class="form-label">Local de Retirada/Devolução</label>
                            <select class="form-select" id="locationSelect" required>
                                <option selected disabled value="">Selecione um local...</option>
                                <option>São Paulo</option>
                                <option>Rio de Janeiro</option>
                                <option>Belo Horizonte</option>
                            </select>
                        </div>

                        <h4>3. Contrato de Crédito (Opcional)</h4>
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="checkbox" value="" id="creditContractCheck">
                            <label class="form-check-label" for="creditContractCheck">
                                Desejo contratar crédito para o aluguel.
                            </label>
                        </div>
                        <div class="mb-3" id="bankSelectGroup" style="display:none;">
                            <label for="bankSelect" class="form-label">Selecione o Banco</label>
                            <select class="form-select" id="bankSelect">
                                <option selected disabled value="">Escolha uma instituição...</option>
                                <option>Banco A</option>
                                <option>Banco B</option>
                                <option>Financeira X</option>
                            </select>
                        </div>

                        <div class="alert alert-info mt-4">
                            **Total Estimado:** R$ 540,00 (6 dias x R$ 90,00)
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save me-2"></i> Salvar Pedido
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL: Tela de Visualização/Edição de Pedido (Simulada) -->
    <div class="modal fade" id="viewDetailsModal" tabindex="-1" aria-labelledby="viewDetailsModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="viewDetailsModalLabel">Detalhes da Reserva #<span id="reservationId">12345</span></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h6 class="text-muted">Carro: <span id="carName" class="text-primary fw-bold">Hyundai HB20</span></h6>
                    <ul class="list-group list-group-flush mb-4">
                        <li class="list-group-item"><strong>Status:</strong> <span class="badge bg-success" id="reservationStatus">Aprovada</span></li>
                        <li class="list-group-item"><strong>Retirada:</strong> 25/09/2025 às 10:00</li>
                        <li class="list-group-item"><strong>Devolução:</strong> 30/09/2025 às 10:00</li>
                        <li class="list-group-item"><strong>Local:</strong> São Paulo</li>
                        <li class="list-group-item"><strong>Valor Total:</strong> R$ 450,00</li>
                    </ul>
                    <div id="editFields" style="display:none;">
                         <h6 class="text-primary">Edição (Apenas para status "Aguardando Aprovação")</h6>
                         <div class="mb-3">
                            <label for="editDate" class="form-label">Nova Data de Devolução</label>
                            <input type="date" class="form-control" id="editDate" value="2025-10-02">
                        </div>
                         <div class="mb-3">
                            <label for="editCar" class="form-label">Trocar Carro</label>
                            <select class="form-select" id="editCar">
                                <option>Hyundai HB20</option>
                                <option selected>Jeep Renegade</option>
                            </select>
                        </div>
                        <button type="button" class="btn btn-info btn-sm">Salvar Alterações</button>
                        <hr>
                    </div>

                </div>
                <div class="modal-footer d-flex justify-content-between">
                    <!-- Botão de Edição (aparece para #67890) -->
                    <button type="button" class="btn btn-info" id="editOrderBtn">
                         <i class="fas fa-edit me-1"></i> Editar Pedido
                    </button>
                    <div>
                        <!-- Botão de Cancelamento -->
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                        <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#cancelModal">
                            <i class="fas fa-times me-1"></i> Cancelar Pedido
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL: Tela de Cancelamento (Confirmação) -->
    <div class="modal fade" id="cancelModal" tabindex="-1" aria-labelledby="cancelModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-danger" id="cancelModalLabel">Confirmação de Cancelamento</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Tem certeza que deseja **cancelar** a Reserva #<span id="cancelReservationId"></span>?</p>
                    <p class="small text-danger">Pode haver cobrança de taxa de cancelamento dependendo do prazo.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Não, Manter Reserva</button>
                    <button type="button" class="btn btn-danger" onclick="alert('Pedido cancelado com sucesso!')">Sim, Cancelar Definitivamente</button>
                </div>
            </div>
        </div>
    </div>


    <!-- Bootstrap core JS e scripts de lógica -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Lógica para Contrato de Crédito no Modal de Criação
        document.getElementById('creditContractCheck').addEventListener('change', function() {
            var bankSelectGroup = document.getElementById('bankSelectGroup');
            if (this.checked) {
                bankSelectGroup.style.display = 'block';
                document.getElementById('bankSelect').setAttribute('required', 'required');
            } else {
                bankSelectGroup.style.display = 'none';
                document.getElementById('bankSelect').removeAttribute('required');
            }
        });

        // Lógica para Modais de Visualização, Edição e Cancelamento
        var viewDetailsModal = document.getElementById('viewDetailsModal');
        viewDetailsModal.addEventListener('show.bs.modal', function (event) {
            var button = event.relatedTarget;
            var reservationId = button.getAttribute('data-reservation-id');
            var carName = button.getAttribute('data-car-name');
            var status = (reservationId === '67890') ? 'Aguardando Aprovação' : 'Aprovada'; // Simula status

            var modalTitle = viewDetailsModal.querySelector('#reservationId');
            var modalCarName = viewDetailsModal.querySelector('#carName');
            var modalStatus = viewDetailsModal.querySelector('#reservationStatus');
            var editFields = document.getElementById('editFields');
            var editBtn = document.getElementById('editOrderBtn');
            var cancelId = document.getElementById('cancelReservationId');

            // Atualiza o modal de visualização
            modalTitle.textContent = reservationId;
            modalCarName.textContent = carName;
            modalStatus.textContent = status;
            modalStatus.className = 'badge ' + (status === 'Aprovada' ? 'bg-success' : 'bg-warning text-dark');
            cancelId.textContent = reservationId;
            
            // Lógica de Edição (Visível apenas se o status permitir)
            if (status === 'Aguardando Aprovação') {
                editBtn.style.display = 'inline-block';
                editFields.style.display = 'none'; // Esconde campos de edição inicialmente
            } else {
                editBtn.style.display = 'none';
                editFields.style.display = 'none';
            }

            // Lógica do botão "Editar Pedido"
             editBtn.onclick = function() {
                editFields.style.display = 'block'; // Mostra os campos de edição
                editBtn.style.display = 'none'; // Esconde o botão de edição
            };

            // Certifica-se de que o modal de cancelamento saiba qual ID está sendo cancelado
            var cancelModal = document.getElementById('cancelModal');
            cancelModal.addEventListener('show.bs.modal', function() {
                 document.getElementById('cancelReservationId').textContent = reservationId;
            });

        });
    </script>
</body>
</html>
